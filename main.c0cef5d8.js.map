{"version":3,"sources":["scripts/main.js"],"names":["click","table","document","querySelector","head","bodyTable","sortAsc","numCol","nameCol","sorted","rows","sort","a","b","conv","cells","innerHTML","append","sortDesc","item","replace","addEventListener","push","th","target","innerText","cellIndex","textContent","e","row","parentElement","classList","length","remove","i","children","isActive","setAttribute","body","form","createElement","className","headTr","label","cities","select","city","option","toLowerCase","input","button","preventDefault","addRow","issue","tagName","tdAdd","dataset","qa","salary","value","split","rightSalary","count","cloneNode","pushNotification","title","description","type","div","messageTitle","messageText","cell","cellText","cellInput","ev","key","even"],"mappings":"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","file":"main.c0cef5d8.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\n\nconst head = table.querySelector('thead');\n\nconst bodyTable = table.querySelector('tbody');\n\nlet click;\n\nhead.addEventListener('click', (push) => {\n  const th = push.target;\n\n  if (th.innerText === click) {\n    click = '';\n\n    return sortDesc(th.cellIndex, push.target.textContent);\n  }\n\n  sortAsc(th.cellIndex, push.target.textContent);\n\n  click = th.innerText;\n});\n\nbodyTable.addEventListener('click', (e) => {\n  const row = e.target;\n\n  if (row.parentElement.classList.length !== 0) {\n    return row.parentElement.classList.remove('active');\n  };\n\n  for (let i = 0; i < bodyTable.children.length; i++) {\n    const isActive = bodyTable.children[i];\n\n    if (isActive.classList.length !== 0) {\n      isActive.classList.remove('active');\n    }\n  };\n\n  row.parentElement.setAttribute('class', 'active');\n});\n\nfunction sortAsc(numCol, nameCol) {\n  const sorted = [...bodyTable.rows];\n\n  sorted.sort((a, b) => {\n    if (nameCol === 'Salary') {\n      return conv(a.cells[numCol].innerHTML) - conv(b.cells[numCol].innerHTML);\n    };\n\n    return a.cells[numCol].innerHTML > b.cells[numCol].innerHTML ? 1 : -1;\n  });\n\n  bodyTable.append(...sorted);\n};\n\nfunction sortDesc(numCol, nameCol) {\n  const sorted = [...bodyTable.rows];\n\n  sorted.sort((a, b) => {\n    if (nameCol === 'Salary') {\n      return conv(b.cells[numCol].innerHTML) - conv(a.cells[numCol].innerHTML);\n    };\n\n    return b.cells[numCol].innerHTML > a.cells[numCol].innerHTML ? 1 : -1;\n  });\n\n  bodyTable.append(...sorted);\n};\n\nfunction conv(item) {\n  return +(item.replace(/\\D/g, ''));\n};\n\nconst body = document.querySelector('body');\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\nbody.append(form);\n\nconst headTr = head.querySelector('tr');\n\nfor (let i = 0; i < headTr.cells.length; i++) {\n  const item = headTr.cells[i].innerText;\n\n  const label = document.createElement('label');\n\n  label.innerText = `${item}: `;\n\n  if (item === 'Office') {\n    const select = document.createElement('select');\n\n    const cities = ['Tokyo', 'Singapore',\n      'London', 'New York', 'Edinburgh', 'San Francisco'];\n\n    for (const city of cities) {\n      const option = document.createElement('option');\n\n      option.innerText = city;\n      select.append(option);\n    };\n\n    select.setAttribute('data-qa', item.toLowerCase());\n\n    label.append(select);\n    form.append(label);\n  } else {\n    const input = document.createElement('input');\n\n    input.setAttribute('data-qa', item.toLowerCase());\n\n    if (item === 'Age' || item === 'Salary') {\n      input.setAttribute('type', 'number');\n    };\n\n    label.append(input);\n    form.append(label);\n  };\n};\n\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\nbutton.setAttribute('type', 'submit');\n\nform.append(button);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const addRow = document.createElement('tr');\n\n  for (const issue of form) {\n    if (issue.tagName !== 'BUTTON') {\n      const tdAdd = document.createElement('td');\n\n      if (issue.dataset.qa === 'salary') {\n        const salary = issue.value.split('');\n        let rightSalary = '';\n        let count = 1;\n\n        for (let i = salary.length - 1; i >= 0; i--) {\n          if (count % 3 === 0 && i !== 0) {\n            rightSalary = `,${salary[i]}` + rightSalary;\n          } else {\n            rightSalary = salary[i] + rightSalary;\n          }\n\n          count++;\n        };\n\n        tdAdd.innerText = `$${rightSalary}`;\n      } else {\n        tdAdd.innerText = issue.value;\n      };\n\n      addRow.append(tdAdd.cloneNode(true));\n    };\n  };\n\n  if (addRow.cells[0].innerText.length < 4) {\n    return pushNotification('WRONG NAME',\n      'Name should have more than 3 letters.\\n'\n      + 'Push right name!', 'error');\n  };\n\n  if (addRow.cells[1].innerText.length === 0) {\n    return pushNotification('WRONG INPUT',\n      'Possition should be decleared.\\n'\n      + 'Push right possition!', 'error');\n  };\n\n  if (+addRow.cells[3].innerText < 18 || +addRow.cells[3].innerText > 90) {\n    return pushNotification('WRONG AGE',\n      'Age should be more than 18 years and less than 90 years inclusive.\\n'\n      + 'Push right age!', 'error');\n  };\n\n  bodyTable.append(addRow);\n\n  pushNotification('SUCCESS', 'You added a new employee to the table!',\n    'success');\n});\n\nconst pushNotification = (title, description, type) => {\n  const div = document.createElement('div');\n\n  div.setAttribute('data-qa', 'notification');\n  div.setAttribute('class', type);\n  body.append(div);\n\n  const messageTitle = document.createElement('h2');\n\n  messageTitle.setAttribute('class', 'title');\n  messageTitle.innerText = title;\n  div.append(messageTitle);\n\n  const messageText = document.createElement('p');\n\n  messageText.innerText = description;\n  div.append(messageText);\n};\n\nbodyTable.addEventListener('dblclick', (e) => {\n  const cell = e.target;\n\n  const cellText = cell.textContent;\n\n  cell.textContent = '';\n\n  const cellInput = document.createElement('input');\n\n  cellInput.setAttribute('class', 'cell-input');\n  cellInput.setAttribute('value', cellText);\n\n  cell.append(cellInput);\n\n  cellInput.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      cellInput.remove();\n\n      cell.textContent = (cellInput.value === '')\n        ? cellText\n        : cellInput.value;\n    };\n  });\n\n  cellInput.addEventListener('blur', (even) => {\n    cellInput.remove();\n\n    cell.textContent = (cellInput.value === '')\n      ? cellText\n      : cellInput.value;\n  });\n});\n"]}